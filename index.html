<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WIGG - When It Gets Good</title>

    <!-- Performance optimizations -->
    <link rel="preload" href="/favicon.png" as="image" type="image/png" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Critical resource hints for faster loading -->
    <link rel="dns-prefetch" href="https://vitals.vercel-analytics.com" />
    <link rel="preconnect" href="https://vitals.vercel-analytics.com" crossorigin />
    
    <!-- Resource hints for performance -->
    <meta name="theme-color" content="#8b5cf6" />
    <meta name="color-scheme" content="dark light" />

    <!-- Critical resource preloading for CLS < 0.1 -->
    <link rel="preload" as="font" href="/fonts/system-ui.woff2" type="font/woff2" crossorigin />
    <link rel="preload" as="image" href="/logo.svg" type="image/svg+xml" />

    <!-- Above-fold image preloading -->
    <link rel="preload" as="image" href="/hero-bg.jpg" type="image/jpeg" media="(min-width: 768px)" />

    <!-- Critical API preconnections -->
    <link rel="preconnect" href="https://api.themoviedb.org" />
    <link rel="preconnect" href="https://image.tmdb.org" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="WIGG" />

    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="/favicon.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="/favicon.png" />

    <!-- Favicon with preload -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="shortcut icon" type="image/png" href="/favicon.png" />

    <!-- SEO and Social -->
    <meta name="description" content="Track and discover when movies, TV shows, books, and games become worth your time. Community-driven insights on media quality." />
    <meta property="og:title" content="WIGG - When It Gets Good" />
    <meta property="og:description" content="Track and discover when movies, TV shows, books, and games become worth your time." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.wigg.app/WIGG-Dashboard.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://www.wigg.app/WIGG-Dashboard.png" />

  </head>

  <body>
    <!-- Prevent theme flash (FOUC) -->
    <script>
      (function() {
        function getStoredTheme() {
          try {
            return localStorage.getItem('wigg-theme');
          } catch {
            return null;
          }
        }

        function getSystemTheme() {
          return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        const theme = getStoredTheme() || 'system';
        const resolvedTheme = theme === 'system' ? getSystemTheme() : theme;

        if (resolvedTheme === 'dark') {
          document.documentElement.classList.add('dark');
        }

        // Optimize theme transitions
        document.documentElement.style.setProperty('--theme-transition-duration', '300ms');
      })();
    </script>

    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
