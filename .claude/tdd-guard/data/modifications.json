{
  "session_id": "e91c461e-d935-40ca-9658-b10652d9eed9",
  "transcript_path": "C:\\Users\\gatli\\.claude\\projects\\C--Users-gatli-Projects-wigg\\e91c461e-d935-40ca-9658-b10652d9eed9.jsonl",
  "hook_event_name": "PreToolUse",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "C:\\Users\\gatli\\Projects\\wigg\\src\\data\\hooks\\useUserWiggsDataLayer.ts",
    "old_string": "  const addWigg = async (pct: number, note?: string, rating?: number): Promise<void> => {\n    if (!userId || !mediaId) {\n      throw new Error('User ID and media ID are required to add a wigg');\n    }\n\n    await wiggPointsClient.createWiggPoint({\n      media_id: mediaId,\n      user_id: userId,\n      pos_value: pct,\n      pos_kind: 'percent',\n      reason_short: note,\n      spoiler_level: 0, // Default spoiler level\n    });\n  };",
    "new_string": "  const addWigg = async (pct: number, note?: string, rating?: number, spoilerLevel?: number): Promise<void> => {\n    if (!userId || !mediaId) {\n      throw new Error('User ID and media ID are required to add a wigg');\n    }\n\n    await wiggPointsClient.createWiggPoint({\n      media_id: mediaId,\n      user_id: userId,\n      pos_value: pct,\n      pos_kind: 'percent',\n      reason_short: note,\n      spoiler_level: spoilerLevel ?? 0, // Default spoiler level if not provided\n    });\n  };"
  }
}